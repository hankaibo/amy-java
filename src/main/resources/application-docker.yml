###############################################################################
## docker
###############################################################################
## 数据库
spring:
  datasource:
    url: jdbc:mysql://myspringboot-db:3306/my_database?zeroDateTimeBehavior=convertToNull&useUnicode=true&characterEncoding=UTF-8&serverTimezone=UTC&autoReconnect=true
    username: ENC(IdxJT9iGJA3XYxo2iRZ4IQ==)
    password: ENC(MU8IYLJXxxv8ieJJWC8z/DTcsj0rQXvuIZqEeCm92DJRAcxbLnwTHA==)
    continue-on-error: true
    sql-script-encoding: utf-8
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
      time-between-eviction-runs-millis: 3000000
      min-evictable-idle-time-millis: 300000
      validation-query: SELECT 1 FROM DUAL
      test-while-idle: true
      test-on-borrow: false
      test-on-return: false
      pool-prepared-statements: true
      max-pool-prepared-statement-per-connection-size: 20
      connection-properties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000
      use-global-data-source-stat: true
      filters: stat,wall,log4j2
  # redis
  redis:
    database: 0
    host: myspringboot-redis
    # docker环境下，容器直连不需要端口号，直接使用容器名。
    # port:
    password: ENC(vvYw/azP/VIWPNd0Pr8vGzFmpjDORgZk/eSDTuDGni5NVv2UrZI52g==)
    timeout: 3000

  cache:
    type: redis

  servlet:
    multipart:
      max-file-size: 10KB

###############################################################################
## jasypt 真实环境下，请在命令行等安全地方使用 password
## windows 系统变量要重启电脑才能生效
## 有时候就是无法获取到${}引用的变量值，可能是缓存问题引起的，请清空缓存重启(大坑，)
jasypt:
  encryptor:
    password: ${JASYPT_ENCRYPTOR_PASSWORD:}
